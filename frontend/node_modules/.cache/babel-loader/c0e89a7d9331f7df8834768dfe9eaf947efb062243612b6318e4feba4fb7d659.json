{"ast":null,"code":"var _jsxFileName = \"/Users/igordvoretskii/Documents/aeromar-python/frontend/src/components/DraggableFlight.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useDraggable } from '@dnd-kit/core';\nimport { toCompactTime } from '../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DraggableFlight = ({\n  flight,\n  left,\n  width,\n  laneH,\n  fontPx,\n  isAssigned,\n  isPending = false,\n  status = 'planned',\n  showBracket = false,\n  bracketPosition = 'single',\n  loadingWindow,\n  unloadingWindow,\n  parkingPosition,\n  onStatusChange,\n  onClick,\n  isSelected = false,\n  layerTop = 0,\n  // Значение по умолчанию\n  useLayerPositioning = false // Значение по умолчанию\n}) => {\n  _s();\n  const [isShiftPressed, setIsShiftPressed] = React.useState(false);\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    isDragging\n  } = useDraggable({\n    id: flight.id,\n    data: {\n      type: 'flight',\n      flight,\n      isAssigned\n    },\n    disabled: isShiftPressed // Отключаем drag когда зажат Shift\n  });\n\n  // Отслеживаем нажатие/отпускание Shift\n  React.useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === 'Shift') {\n        setIsShiftPressed(true);\n      }\n    };\n    const handleKeyUp = e => {\n      if (e.key === 'Shift') {\n        setIsShiftPressed(false);\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, []);\n\n  // Расчет минимальной ширины с учетом времени\n  // Используем ширину по времени, но с разумным минимумом для читаемости\n  const minWidth = Math.max(width, 80); // Уменьшили минимум со 140 до 80\n\n  // Автоматическое определение статуса по времени\n  const getAutoStatus = () => {\n    const now = Date.now();\n    const currentMinutes = Math.floor(now % (24 * 60 * 60 * 1000) / (60 * 1000));\n    if (currentMinutes < flight.serviceStart) {\n      return 'planned';\n    } else if (currentMinutes >= flight.serviceStart && currentMinutes <= flight.serviceEnd) {\n      return 'in-progress';\n    } else {\n      return 'completed';\n    }\n  };\n  const autoStatus = getAutoStatus();\n\n  // Стили для статуса\n  const getStatusColor = () => {\n    switch (autoStatus) {\n      case 'completed':\n        return {\n          bg: '#DBEAFE',\n          border: '#2563EB',\n          text: '#1D4ED8'\n        };\n      // синий для завершенных\n      case 'in-progress':\n        return {\n          bg: '#D1FAE5',\n          border: '#059669',\n          text: '#047857'\n        };\n      // зеленый для выполняемых\n      case 'planned':\n        return {\n          bg: '#F3F4F6',\n          border: '#6B7280',\n          text: '#374151'\n        };\n      // серый для запланированных\n      default:\n        return {\n          bg: '#F3F4F6',\n          border: '#6B7280',\n          text: '#374151'\n        };\n      // серый\n    }\n  };\n  const statusColors = getStatusColor();\n\n  // Парсинг маршрута для отображения FROM → TO\n  const parseRoute = route => {\n    if (route.includes('-')) {\n      const [from, to] = route.split('-').map(s => s.trim());\n      return {\n        from,\n        to\n      };\n    }\n    return {\n      from: route,\n      to: ''\n    };\n  };\n  const {\n    from,\n    to\n  } = parseRoute(flight.route);\n\n  // Используем transform для точного центрирования\n  const elementHeight = laneH - 2; // Немного уменьшили отступ с 4px до 2px для большей высоты\n\n  const style = {\n    position: 'absolute',\n    left: `${left}px`,\n    width: `${minWidth - 2}px`,\n    // Уменьшили на 2px для отступа\n    height: `${elementHeight}px`,\n    // Используем переменную для ясности\n    top: useLayerPositioning ? `${layerTop}px` : '50%',\n    // Используем layerTop если включено слоевое позиционирование, иначе центрируем\n    transform: useLayerPositioning ? transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : 'none' : transform ? `translate3d(${transform.x}px, ${transform.y}px, 0) translateY(-50%)` : 'translateY(-50%)',\n    // Добавляем центрирование только если не используется слоевое позиционирование\n    backgroundColor: statusColors.bg,\n    // Вернули нормальный цвет статуса\n    border: `2px solid ${statusColors.border}`,\n    // Вернули нормальную границу статуса\n    borderRadius: '4px',\n    // Уменьшили с 6px до 4px\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    padding: '2px 6px',\n    // Уменьшили padding для лучшего размещения текста\n    color: statusColors.text,\n    fontSize: `${fontPx - 1}px`,\n    // Уменьшили размер шрифта на 1px для лучшего размещения текста\n    fontWeight: '600',\n    cursor: isShiftPressed ? 'crosshair' : 'pointer',\n    // Изменяем курсор при Shift\n    userSelect: 'none',\n    boxShadow: '0 1px 2px rgba(0,0,0,0.1)',\n    // Уменьшили тень\n    zIndex: isDragging ? 1000 : 10,\n    opacity: isDragging ? 0 : 1,\n    // Полностью скрываем оригинал при драге\n    overflow: 'visible',\n    marginRight: '2px',\n    // Добавили отступ справа\n    // Отключаем все hover эффекты когда зажат Shift\n    pointerEvents: 'auto',\n    transition: isShiftPressed ? 'none' : 'all 0.2s ease' // Отключаем переходы при Shift\n  };\n  if (isPending) {\n    style.backgroundColor = '#FEF3C7';\n    style.border = '2px solid #F59E0B';\n    style.boxShadow = '0 0 0 2px #FCD34D';\n  }\n\n  // Стили для выбранного рейса\n  if (isSelected) {\n    style.backgroundColor = '#E0E7FF';\n    style.border = '2px solid #3B82F6'; // Оставляем ту же толщину границы\n    style.boxShadow = '0 0 0 2px #93C5FD';\n  }\n  const handleClick = event => {\n    if (onClick) {\n      onClick(event, flight.id);\n    }\n  };\n  const handleMouseDown = event => {\n    // Если зажат Shift, полностью блокируем drag\n    if (event.shiftKey) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    style: {\n      ...style,\n      // Полностью отключаем hover эффекты при Shift\n      ...(isShiftPressed && {\n        // Фиксируем все hover стили\n        '&:hover': {\n          backgroundColor: style.backgroundColor + ' !important',\n          border: style.border + ' !important',\n          boxShadow: style.boxShadow + ' !important',\n          filter: 'none !important',\n          transform: style.transform + ' !important'\n        }\n      })\n    },\n    ...attributes,\n    ...(!isShiftPressed ? listeners : {}),\n    // Условно применяем listeners только когда Shift не зажат\n    onClick: handleClick,\n    onMouseDown: handleMouseDown\n    // Полностью блокируем mouse events при Shift кроме click\n    ,\n    onMouseOver: isShiftPressed ? e => {\n      e.stopPropagation();\n      e.preventDefault();\n    } : undefined,\n    onMouseEnter: isShiftPressed ? e => {\n      e.stopPropagation();\n      e.preventDefault();\n    } : undefined,\n    onMouseLeave: isShiftPressed ? e => {\n      e.stopPropagation();\n      e.preventDefault();\n    } : undefined,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: `${fontPx - 1}px`,\n        // Уменьшили размер шрифта номера рейса\n        fontWeight: '700',\n        lineHeight: 1.1,\n        marginBottom: minWidth >= 80 ? '2px' : '0px',\n        // Снизили порог\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: flight.flightNo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), minWidth >= 40 && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: `${Math.max(fontPx - 3, 8)}px`,\n          color: statusColors.text,\n          opacity: 0.7,\n          marginLeft: '2px'\n        },\n        children: flight.acType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), minWidth >= 60 &&\n    /*#__PURE__*/\n    // Уменьшили минимальную ширину для отображения маршрута\n    _jsxDEV(\"div\", {\n      style: {\n        fontSize: `${Math.max(fontPx - 1, 9)}px`,\n        lineHeight: 1.1,\n        marginBottom: '1px',\n        color: statusColors.text,\n        opacity: 0.9,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      },\n      children: to ? `${from} → ${to}` : from\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this), minWidth >= 40 &&\n    /*#__PURE__*/\n    // Еще больше снизили минимальную ширину\n    _jsxDEV(\"div\", {\n      style: {\n        fontSize: `${Math.max(fontPx - 2, 7)}px`,\n        // Уменьшили минимальный размер шрифта\n        lineHeight: 1.0,\n        color: statusColors.text,\n        opacity: 0.8,\n        display: 'flex',\n        justifyContent: minWidth >= 90 ? 'space-between' : 'flex-start',\n        width: '100%',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: toCompactTime(flight.serviceStart, flight.serviceEnd, minWidth)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), parkingPosition && minWidth >= 110 &&\n      /*#__PURE__*/\n      // Снизили порог для парковки\n      _jsxDEV(\"span\", {\n        style: {\n          fontWeight: '600'\n        },\n        children: [\"\\uD83C\\uDD7F\\uFE0F\", parkingPosition]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this), (loadingWindow || unloadingWindow) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '-25px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        fontSize: `${Math.max(fontPx - 2, 9)}px`,\n        color: '#374151',\n        display: 'flex',\n        gap: '6px',\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\n        padding: '2px 6px',\n        borderRadius: '4px',\n        border: '1px solid #D1D5DB',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        zIndex: 10\n      },\n      children: [loadingWindow && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#059669',\n          fontWeight: '600',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '2px'\n        },\n        children: [\"\\uD83D\\uDCE6 \", loadingWindow]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }, this), unloadingWindow && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#DC2626',\n          fontWeight: '600',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '2px'\n        },\n        children: [\"\\uD83D\\uDCE4 \", unloadingWindow]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n};\n_s(DraggableFlight, \"NwT12DHdI5R4bCHShD2eTkVIdoE=\", false, function () {\n  return [useDraggable];\n});\n_c = DraggableFlight;\nvar _c;\n$RefreshReg$(_c, \"DraggableFlight\");","map":{"version":3,"names":["React","useDraggable","toCompactTime","jsxDEV","_jsxDEV","DraggableFlight","flight","left","width","laneH","fontPx","isAssigned","isPending","status","showBracket","bracketPosition","loadingWindow","unloadingWindow","parkingPosition","onStatusChange","onClick","isSelected","layerTop","useLayerPositioning","_s","isShiftPressed","setIsShiftPressed","useState","attributes","listeners","setNodeRef","transform","isDragging","id","data","type","disabled","useEffect","handleKeyDown","e","key","handleKeyUp","window","addEventListener","removeEventListener","minWidth","Math","max","getAutoStatus","now","Date","currentMinutes","floor","serviceStart","serviceEnd","autoStatus","getStatusColor","bg","border","text","statusColors","parseRoute","route","includes","from","to","split","map","s","trim","elementHeight","style","position","height","top","x","y","backgroundColor","borderRadius","display","flexDirection","justifyContent","alignItems","padding","color","fontSize","fontWeight","cursor","userSelect","boxShadow","zIndex","opacity","overflow","marginRight","pointerEvents","transition","handleClick","event","handleMouseDown","shiftKey","preventDefault","stopPropagation","ref","filter","onMouseDown","onMouseOver","undefined","onMouseEnter","onMouseLeave","children","lineHeight","marginBottom","flightNo","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","acType","whiteSpace","textOverflow","bottom","gap","_c","$RefreshReg$"],"sources":["/Users/igordvoretskii/Documents/aeromar-python/frontend/src/components/DraggableFlight.tsx"],"sourcesContent":["import React from 'react';\nimport { useDraggable } from '@dnd-kit/core';\nimport { Flight } from '../types';\nimport { toHHMM, toCompactTime } from '../utils';\n\ninterface DraggableFlightProps {\n  flight: Flight;\n  left: number;\n  width: number;\n  laneH: number;\n  fontPx: number;\n  isAssigned: boolean;\n  isPending?: boolean;\n  status?: 'completed' | 'in-progress' | 'planned';\n  showBracket?: boolean;\n  bracketPosition?: 'start' | 'middle' | 'end' | 'single';\n  loadingWindow?: number;\n  unloadingWindow?: number;\n  parkingPosition?: string;\n  onStatusChange?: (status: 'completed' | 'in-progress' | 'planned') => void;\n  onClick?: (event: React.MouseEvent, flightId: string) => void;\n  isSelected?: boolean;\n  layerTop?: number; // Добавляем поддержку вертикального смещения для слоев\n  useLayerPositioning?: boolean; // Флаг для использования слоевого позиционирования\n}\n\nexport const DraggableFlight: React.FC<DraggableFlightProps> = ({\n  flight,\n  left,\n  width,\n  laneH,\n  fontPx,\n  isAssigned,\n  isPending = false,\n  status = 'planned',\n  showBracket = false,\n  bracketPosition = 'single',\n  loadingWindow,\n  unloadingWindow,\n  parkingPosition,\n  onStatusChange,\n  onClick,\n  isSelected = false,\n  layerTop = 0, // Значение по умолчанию\n  useLayerPositioning = false // Значение по умолчанию\n}) => {\n  const [isShiftPressed, setIsShiftPressed] = React.useState(false);\n\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    isDragging,\n  } = useDraggable({\n    id: flight.id,\n    data: {\n      type: 'flight',\n      flight,\n      isAssigned\n    },\n    disabled: isShiftPressed // Отключаем drag когда зажат Shift\n  });\n\n  // Отслеживаем нажатие/отпускание Shift\n  React.useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Shift') {\n        setIsShiftPressed(true);\n      }\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      if (e.key === 'Shift') {\n        setIsShiftPressed(false);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, []);\n\n  // Расчет минимальной ширины с учетом времени\n  // Используем ширину по времени, но с разумным минимумом для читаемости\n  const minWidth = Math.max(width, 80); // Уменьшили минимум со 140 до 80\n\n  // Автоматическое определение статуса по времени\n  const getAutoStatus = (): 'planned' | 'in-progress' | 'completed' => {\n    const now = Date.now();\n    const currentMinutes = Math.floor((now % (24 * 60 * 60 * 1000)) / (60 * 1000));\n    \n    if (currentMinutes < flight.serviceStart) {\n      return 'planned';\n    } else if (currentMinutes >= flight.serviceStart && currentMinutes <= flight.serviceEnd) {\n      return 'in-progress';\n    } else {\n      return 'completed';\n    }\n  };\n\n  const autoStatus = getAutoStatus();\n  \n  // Стили для статуса\n  const getStatusColor = (): { bg: string; border: string; text: string } => {\n    switch (autoStatus) {\n      case 'completed':\n        return { bg: '#DBEAFE', border: '#2563EB', text: '#1D4ED8' }; // синий для завершенных\n      case 'in-progress':\n        return { bg: '#D1FAE5', border: '#059669', text: '#047857' }; // зеленый для выполняемых\n      case 'planned':\n        return { bg: '#F3F4F6', border: '#6B7280', text: '#374151' }; // серый для запланированных\n      default:\n        return { bg: '#F3F4F6', border: '#6B7280', text: '#374151' }; // серый\n    }\n  };\n\n  const statusColors = getStatusColor();\n\n  // Парсинг маршрута для отображения FROM → TO\n  const parseRoute = (route: string) => {\n    if (route.includes('-')) {\n      const [from, to] = route.split('-').map(s => s.trim());\n      return { from, to };\n    }\n    return { from: route, to: '' };\n  };\n\n  const { from, to } = parseRoute(flight.route);\n\n  // Используем transform для точного центрирования\n  const elementHeight = laneH - 2; // Немного уменьшили отступ с 4px до 2px для большей высоты\n\n  const style = {\n    position: 'absolute' as const,\n    left: `${left}px`,\n    width: `${minWidth - 2}px`, // Уменьшили на 2px для отступа\n    height: `${elementHeight}px`, // Используем переменную для ясности\n    top: useLayerPositioning ? `${layerTop}px` : '50%', // Используем layerTop если включено слоевое позиционирование, иначе центрируем\n    transform: useLayerPositioning ? \n      (transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : 'none') : \n      (transform ? `translate3d(${transform.x}px, ${transform.y}px, 0) translateY(-50%)` : 'translateY(-50%)'), // Добавляем центрирование только если не используется слоевое позиционирование\n    backgroundColor: statusColors.bg, // Вернули нормальный цвет статуса\n    border: `2px solid ${statusColors.border}`, // Вернули нормальную границу статуса\n    borderRadius: '4px', // Уменьшили с 6px до 4px\n    display: 'flex',\n    flexDirection: 'column' as const,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    padding: '2px 6px', // Уменьшили padding для лучшего размещения текста\n    color: statusColors.text,\n    fontSize: `${fontPx - 1}px`, // Уменьшили размер шрифта на 1px для лучшего размещения текста\n    fontWeight: '600',\n    cursor: isShiftPressed ? 'crosshair' : 'pointer', // Изменяем курсор при Shift\n    userSelect: 'none' as const,\n    boxShadow: '0 1px 2px rgba(0,0,0,0.1)', // Уменьшили тень\n    zIndex: isDragging ? 1000 : 10,\n    opacity: isDragging ? 0 : 1, // Полностью скрываем оригинал при драге\n    overflow: 'visible',\n    marginRight: '2px', // Добавили отступ справа\n    // Отключаем все hover эффекты когда зажат Shift\n    pointerEvents: 'auto' as const,\n    transition: isShiftPressed ? 'none' : 'all 0.2s ease' // Отключаем переходы при Shift\n  };\n\n  if (isPending) {\n    style.backgroundColor = '#FEF3C7';\n    style.border = '2px solid #F59E0B';\n    style.boxShadow = '0 0 0 2px #FCD34D';\n  }\n\n  // Стили для выбранного рейса\n  if (isSelected) {\n    style.backgroundColor = '#E0E7FF';\n    style.border = '2px solid #3B82F6'; // Оставляем ту же толщину границы\n    style.boxShadow = '0 0 0 2px #93C5FD';\n  }\n\n  const handleClick = (event: React.MouseEvent) => {\n    if (onClick) {\n      onClick(event, flight.id);\n    }\n  };\n\n  const handleMouseDown = (event: React.MouseEvent) => {\n    // Если зажат Shift, полностью блокируем drag\n    if (event.shiftKey) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={{\n        ...style,\n        // Полностью отключаем hover эффекты при Shift\n        ...(isShiftPressed && {\n          // Фиксируем все hover стили\n          '&:hover': {\n            backgroundColor: style.backgroundColor + ' !important',\n            border: style.border + ' !important',\n            boxShadow: style.boxShadow + ' !important',\n            filter: 'none !important',\n            transform: style.transform + ' !important'\n          }\n        })\n      }}\n      {...attributes}\n      {...(!isShiftPressed ? listeners : {})} // Условно применяем listeners только когда Shift не зажат\n      onClick={handleClick}\n      onMouseDown={handleMouseDown}\n      // Полностью блокируем mouse events при Shift кроме click\n      onMouseOver={isShiftPressed ? (e) => { e.stopPropagation(); e.preventDefault(); } : undefined}\n      onMouseEnter={isShiftPressed ? (e) => { e.stopPropagation(); e.preventDefault(); } : undefined}\n      onMouseLeave={isShiftPressed ? (e) => { e.stopPropagation(); e.preventDefault(); } : undefined}\n    >\n      {/* Основная информация о рейсе */}\n      <div style={{ \n        fontSize: `${fontPx - 1}px`, // Уменьшили размер шрифта номера рейса\n        fontWeight: '700',\n        lineHeight: 1.1,\n        marginBottom: minWidth >= 80 ? '2px' : '0px', // Снизили порог\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        width: '100%'\n      }}>\n        <span>{flight.flightNo}</span>\n        {/* Показываем только тип самолета без типа рейса */}\n        {minWidth >= 40 && (\n          <span style={{\n            fontSize: `${Math.max(fontPx - 3, 8)}px`,\n            color: statusColors.text,\n            opacity: 0.7,\n            marginLeft: '2px'\n          }}>\n            {flight.acType}\n          </span>\n        )}\n      </div>\n      \n      {/* Маршрут - показываем если достаточно места */}\n      {minWidth >= 60 && ( // Уменьшили минимальную ширину для отображения маршрута\n        <div style={{ \n          fontSize: `${Math.max(fontPx - 1, 9)}px`,\n          lineHeight: 1.1,\n          marginBottom: '1px',\n          color: statusColors.text,\n          opacity: 0.9,\n          whiteSpace: 'nowrap',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis'\n        }}>\n          {to ? `${from} → ${to}` : from}\n        </div>\n      )}\n      \n      {/* Время обслуживания - адаптивное отображение */}\n      {minWidth >= 40 && ( // Еще больше снизили минимальную ширину\n        <div style={{ \n          fontSize: `${Math.max(fontPx - 2, 7)}px`, // Уменьшили минимальный размер шрифта\n          lineHeight: 1.0,\n          color: statusColors.text,\n          opacity: 0.8,\n          display: 'flex',\n          justifyContent: minWidth >= 90 ? 'space-between' : 'flex-start',\n          width: '100%',\n          whiteSpace: 'nowrap',\n          overflow: 'hidden'\n        }}>\n          <span>\n            {toCompactTime(flight.serviceStart, flight.serviceEnd, minWidth)}\n          </span>\n          {parkingPosition && minWidth >= 110 && ( // Снизили порог для парковки\n            <span style={{ fontWeight: '600' }}>🅿️{parkingPosition}</span>\n          )}\n        </div>\n      )}\n      \n      {/* Индикаторы окон */}\n      {(loadingWindow || unloadingWindow) && (\n        <div style={{\n          position: 'absolute',\n          bottom: '-25px',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          fontSize: `${Math.max(fontPx - 2, 9)}px`,\n          color: '#374151',\n          display: 'flex',\n          gap: '6px',\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          padding: '2px 6px',\n          borderRadius: '4px',\n          border: '1px solid #D1D5DB',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          zIndex: 10\n        }}>\n          {loadingWindow && (\n            <span style={{ \n              color: '#059669', \n              fontWeight: '600',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '2px'\n            }}>\n              📦 {loadingWindow}\n            </span>\n          )}\n          {unloadingWindow && (\n            <span style={{ \n              color: '#DC2626', \n              fontWeight: '600',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '2px'\n            }}>\n              📤 {unloadingWindow}\n            </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,eAAe;AAE5C,SAAiBC,aAAa,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAuBjD,OAAO,MAAMC,eAA+C,GAAGA,CAAC;EAC9DC,MAAM;EACNC,IAAI;EACJC,KAAK;EACLC,KAAK;EACLC,MAAM;EACNC,UAAU;EACVC,SAAS,GAAG,KAAK;EACjBC,MAAM,GAAG,SAAS;EAClBC,WAAW,GAAG,KAAK;EACnBC,eAAe,GAAG,QAAQ;EAC1BC,aAAa;EACbC,eAAe;EACfC,eAAe;EACfC,cAAc;EACdC,OAAO;EACPC,UAAU,GAAG,KAAK;EAClBC,QAAQ,GAAG,CAAC;EAAE;EACdC,mBAAmB,GAAG,KAAK,CAAC;AAC9B,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAG1B,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC;EAEjE,MAAM;IACJC,UAAU;IACVC,SAAS;IACTC,UAAU;IACVC,SAAS;IACTC;EACF,CAAC,GAAG/B,YAAY,CAAC;IACfgC,EAAE,EAAE3B,MAAM,CAAC2B,EAAE;IACbC,IAAI,EAAE;MACJC,IAAI,EAAE,QAAQ;MACd7B,MAAM;MACNK;IACF,CAAC;IACDyB,QAAQ,EAAEX,cAAc,CAAC;EAC3B,CAAC,CAAC;;EAEF;EACAzB,KAAK,CAACqC,SAAS,CAAC,MAAM;IACpB,MAAMC,aAAa,GAAIC,CAAgB,IAAK;MAC1C,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;QACrBd,iBAAiB,CAAC,IAAI,CAAC;MACzB;IACF,CAAC;IAED,MAAMe,WAAW,GAAIF,CAAgB,IAAK;MACxC,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;QACrBd,iBAAiB,CAAC,KAAK,CAAC;MAC1B;IACF,CAAC;IAEDgB,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEL,aAAa,CAAC;IACjDI,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEF,WAAW,CAAC;IAE7C,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEN,aAAa,CAAC;MACpDI,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEH,WAAW,CAAC;IAClD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA,MAAMI,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACvC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;;EAEtC;EACA,MAAMwC,aAAa,GAAGA,CAAA,KAA+C;IACnE,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;IACtB,MAAME,cAAc,GAAGL,IAAI,CAACM,KAAK,CAAEH,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,IAAK,EAAE,GAAG,IAAI,CAAC,CAAC;IAE9E,IAAIE,cAAc,GAAG7C,MAAM,CAAC+C,YAAY,EAAE;MACxC,OAAO,SAAS;IAClB,CAAC,MAAM,IAAIF,cAAc,IAAI7C,MAAM,CAAC+C,YAAY,IAAIF,cAAc,IAAI7C,MAAM,CAACgD,UAAU,EAAE;MACvF,OAAO,aAAa;IACtB,CAAC,MAAM;MACL,OAAO,WAAW;IACpB;EACF,CAAC;EAED,MAAMC,UAAU,GAAGP,aAAa,CAAC,CAAC;;EAElC;EACA,MAAMQ,cAAc,GAAGA,CAAA,KAAoD;IACzE,QAAQD,UAAU;MAChB,KAAK,WAAW;QACd,OAAO;UAAEE,EAAE,EAAE,SAAS;UAAEC,MAAM,EAAE,SAAS;UAAEC,IAAI,EAAE;QAAU,CAAC;MAAE;MAChE,KAAK,aAAa;QAChB,OAAO;UAAEF,EAAE,EAAE,SAAS;UAAEC,MAAM,EAAE,SAAS;UAAEC,IAAI,EAAE;QAAU,CAAC;MAAE;MAChE,KAAK,SAAS;QACZ,OAAO;UAAEF,EAAE,EAAE,SAAS;UAAEC,MAAM,EAAE,SAAS;UAAEC,IAAI,EAAE;QAAU,CAAC;MAAE;MAChE;QACE,OAAO;UAAEF,EAAE,EAAE,SAAS;UAAEC,MAAM,EAAE,SAAS;UAAEC,IAAI,EAAE;QAAU,CAAC;MAAE;IAClE;EACF,CAAC;EAED,MAAMC,YAAY,GAAGJ,cAAc,CAAC,CAAC;;EAErC;EACA,MAAMK,UAAU,GAAIC,KAAa,IAAK;IACpC,IAAIA,KAAK,CAACC,QAAQ,CAAC,GAAG,CAAC,EAAE;MACvB,MAAM,CAACC,IAAI,EAAEC,EAAE,CAAC,GAAGH,KAAK,CAACI,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MACtD,OAAO;QAAEL,IAAI;QAAEC;MAAG,CAAC;IACrB;IACA,OAAO;MAAED,IAAI,EAAEF,KAAK;MAAEG,EAAE,EAAE;IAAG,CAAC;EAChC,CAAC;EAED,MAAM;IAAED,IAAI;IAAEC;EAAG,CAAC,GAAGJ,UAAU,CAACvD,MAAM,CAACwD,KAAK,CAAC;;EAE7C;EACA,MAAMQ,aAAa,GAAG7D,KAAK,GAAG,CAAC,CAAC,CAAC;;EAEjC,MAAM8D,KAAK,GAAG;IACZC,QAAQ,EAAE,UAAmB;IAC7BjE,IAAI,EAAE,GAAGA,IAAI,IAAI;IACjBC,KAAK,EAAE,GAAGqC,QAAQ,GAAG,CAAC,IAAI;IAAE;IAC5B4B,MAAM,EAAE,GAAGH,aAAa,IAAI;IAAE;IAC9BI,GAAG,EAAEnD,mBAAmB,GAAG,GAAGD,QAAQ,IAAI,GAAG,KAAK;IAAE;IACpDS,SAAS,EAAER,mBAAmB,GAC3BQ,SAAS,GAAG,eAAeA,SAAS,CAAC4C,CAAC,OAAO5C,SAAS,CAAC6C,CAAC,QAAQ,GAAG,MAAM,GACzE7C,SAAS,GAAG,eAAeA,SAAS,CAAC4C,CAAC,OAAO5C,SAAS,CAAC6C,CAAC,yBAAyB,GAAG,kBAAmB;IAAE;IAC5GC,eAAe,EAAEjB,YAAY,CAACH,EAAE;IAAE;IAClCC,MAAM,EAAE,aAAaE,YAAY,CAACF,MAAM,EAAE;IAAE;IAC5CoB,YAAY,EAAE,KAAK;IAAE;IACrBC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAiB;IAChCC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,YAAY;IACxBC,OAAO,EAAE,SAAS;IAAE;IACpBC,KAAK,EAAExB,YAAY,CAACD,IAAI;IACxB0B,QAAQ,EAAE,GAAG3E,MAAM,GAAG,CAAC,IAAI;IAAE;IAC7B4E,UAAU,EAAE,KAAK;IACjBC,MAAM,EAAE9D,cAAc,GAAG,WAAW,GAAG,SAAS;IAAE;IAClD+D,UAAU,EAAE,MAAe;IAC3BC,SAAS,EAAE,2BAA2B;IAAE;IACxCC,MAAM,EAAE1D,UAAU,GAAG,IAAI,GAAG,EAAE;IAC9B2D,OAAO,EAAE3D,UAAU,GAAG,CAAC,GAAG,CAAC;IAAE;IAC7B4D,QAAQ,EAAE,SAAS;IACnBC,WAAW,EAAE,KAAK;IAAE;IACpB;IACAC,aAAa,EAAE,MAAe;IAC9BC,UAAU,EAAEtE,cAAc,GAAG,MAAM,GAAG,eAAe,CAAC;EACxD,CAAC;EAED,IAAIb,SAAS,EAAE;IACb2D,KAAK,CAACM,eAAe,GAAG,SAAS;IACjCN,KAAK,CAACb,MAAM,GAAG,mBAAmB;IAClCa,KAAK,CAACkB,SAAS,GAAG,mBAAmB;EACvC;;EAEA;EACA,IAAIpE,UAAU,EAAE;IACdkD,KAAK,CAACM,eAAe,GAAG,SAAS;IACjCN,KAAK,CAACb,MAAM,GAAG,mBAAmB,CAAC,CAAC;IACpCa,KAAK,CAACkB,SAAS,GAAG,mBAAmB;EACvC;EAEA,MAAMO,WAAW,GAAIC,KAAuB,IAAK;IAC/C,IAAI7E,OAAO,EAAE;MACXA,OAAO,CAAC6E,KAAK,EAAE3F,MAAM,CAAC2B,EAAE,CAAC;IAC3B;EACF,CAAC;EAED,MAAMiE,eAAe,GAAID,KAAuB,IAAK;IACnD;IACA,IAAIA,KAAK,CAACE,QAAQ,EAAE;MAClBF,KAAK,CAACG,cAAc,CAAC,CAAC;MACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;MACvB,OAAO,KAAK;IACd;EACF,CAAC;EAED,oBACEjG,OAAA;IACEkG,GAAG,EAAExE,UAAW;IAChByC,KAAK,EAAE;MACL,GAAGA,KAAK;MACR;MACA,IAAI9C,cAAc,IAAI;QACpB;QACA,SAAS,EAAE;UACToD,eAAe,EAAEN,KAAK,CAACM,eAAe,GAAG,aAAa;UACtDnB,MAAM,EAAEa,KAAK,CAACb,MAAM,GAAG,aAAa;UACpC+B,SAAS,EAAElB,KAAK,CAACkB,SAAS,GAAG,aAAa;UAC1Cc,MAAM,EAAE,iBAAiB;UACzBxE,SAAS,EAAEwC,KAAK,CAACxC,SAAS,GAAG;QAC/B;MACF,CAAC;IACH,CAAE;IAAA,GACEH,UAAU;IAAA,IACT,CAACH,cAAc,GAAGI,SAAS,GAAG,CAAC,CAAC;IAAG;IACxCT,OAAO,EAAE4E,WAAY;IACrBQ,WAAW,EAAEN;IACb;IAAA;IACAO,WAAW,EAAEhF,cAAc,GAAIc,CAAC,IAAK;MAAEA,CAAC,CAAC8D,eAAe,CAAC,CAAC;MAAE9D,CAAC,CAAC6D,cAAc,CAAC,CAAC;IAAE,CAAC,GAAGM,SAAU;IAC9FC,YAAY,EAAElF,cAAc,GAAIc,CAAC,IAAK;MAAEA,CAAC,CAAC8D,eAAe,CAAC,CAAC;MAAE9D,CAAC,CAAC6D,cAAc,CAAC,CAAC;IAAE,CAAC,GAAGM,SAAU;IAC/FE,YAAY,EAAEnF,cAAc,GAAIc,CAAC,IAAK;MAAEA,CAAC,CAAC8D,eAAe,CAAC,CAAC;MAAE9D,CAAC,CAAC6D,cAAc,CAAC,CAAC;IAAE,CAAC,GAAGM,SAAU;IAAAG,QAAA,gBAG/FzG,OAAA;MAAKmE,KAAK,EAAE;QACVc,QAAQ,EAAE,GAAG3E,MAAM,GAAG,CAAC,IAAI;QAAE;QAC7B4E,UAAU,EAAE,KAAK;QACjBwB,UAAU,EAAE,GAAG;QACfC,YAAY,EAAElE,QAAQ,IAAI,EAAE,GAAG,KAAK,GAAG,KAAK;QAAE;QAC9CkC,OAAO,EAAE,MAAM;QACfG,UAAU,EAAE,QAAQ;QACpBD,cAAc,EAAE,eAAe;QAC/BzE,KAAK,EAAE;MACT,CAAE;MAAAqG,QAAA,gBACAzG,OAAA;QAAAyG,QAAA,EAAOvG,MAAM,CAAC0G;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,EAE7BvE,QAAQ,IAAI,EAAE,iBACbzC,OAAA;QAAMmE,KAAK,EAAE;UACXc,QAAQ,EAAE,GAAGvC,IAAI,CAACC,GAAG,CAACrC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI;UACxC0E,KAAK,EAAExB,YAAY,CAACD,IAAI;UACxBgC,OAAO,EAAE,GAAG;UACZ0B,UAAU,EAAE;QACd,CAAE;QAAAR,QAAA,EACCvG,MAAM,CAACgH;MAAM;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLvE,QAAQ,IAAI,EAAE;IAAA;IAAM;IACnBzC,OAAA;MAAKmE,KAAK,EAAE;QACVc,QAAQ,EAAE,GAAGvC,IAAI,CAACC,GAAG,CAACrC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI;QACxCoG,UAAU,EAAE,GAAG;QACfC,YAAY,EAAE,KAAK;QACnB3B,KAAK,EAAExB,YAAY,CAACD,IAAI;QACxBgC,OAAO,EAAE,GAAG;QACZ4B,UAAU,EAAE,QAAQ;QACpB3B,QAAQ,EAAE,QAAQ;QAClB4B,YAAY,EAAE;MAChB,CAAE;MAAAX,QAAA,EACC5C,EAAE,GAAG,GAAGD,IAAI,MAAMC,EAAE,EAAE,GAAGD;IAAI;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CACN,EAGAvE,QAAQ,IAAI,EAAE;IAAA;IAAM;IACnBzC,OAAA;MAAKmE,KAAK,EAAE;QACVc,QAAQ,EAAE,GAAGvC,IAAI,CAACC,GAAG,CAACrC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI;QAAE;QAC1CoG,UAAU,EAAE,GAAG;QACf1B,KAAK,EAAExB,YAAY,CAACD,IAAI;QACxBgC,OAAO,EAAE,GAAG;QACZZ,OAAO,EAAE,MAAM;QACfE,cAAc,EAAEpC,QAAQ,IAAI,EAAE,GAAG,eAAe,GAAG,YAAY;QAC/DrC,KAAK,EAAE,MAAM;QACb+G,UAAU,EAAE,QAAQ;QACpB3B,QAAQ,EAAE;MACZ,CAAE;MAAAiB,QAAA,gBACAzG,OAAA;QAAAyG,QAAA,EACG3G,aAAa,CAACI,MAAM,CAAC+C,YAAY,EAAE/C,MAAM,CAACgD,UAAU,EAAET,QAAQ;MAAC;QAAAoE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC,EACNlG,eAAe,IAAI2B,QAAQ,IAAI,GAAG;MAAA;MAAM;MACvCzC,OAAA;QAAMmE,KAAK,EAAE;UAAEe,UAAU,EAAE;QAAM,CAAE;QAAAuB,QAAA,GAAC,oBAAG,EAAC3F,eAAe;MAAA;QAAA+F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAC/D;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EAGA,CAACpG,aAAa,IAAIC,eAAe,kBAChCb,OAAA;MAAKmE,KAAK,EAAE;QACVC,QAAQ,EAAE,UAAU;QACpBiD,MAAM,EAAE,OAAO;QACflH,IAAI,EAAE,KAAK;QACXwB,SAAS,EAAE,kBAAkB;QAC7BsD,QAAQ,EAAE,GAAGvC,IAAI,CAACC,GAAG,CAACrC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI;QACxC0E,KAAK,EAAE,SAAS;QAChBL,OAAO,EAAE,MAAM;QACf2C,GAAG,EAAE,KAAK;QACV7C,eAAe,EAAE,0BAA0B;QAC3CM,OAAO,EAAE,SAAS;QAClBL,YAAY,EAAE,KAAK;QACnBpB,MAAM,EAAE,mBAAmB;QAC3B+B,SAAS,EAAE,8BAA8B;QACzCC,MAAM,EAAE;MACV,CAAE;MAAAmB,QAAA,GACC7F,aAAa,iBACZZ,OAAA;QAAMmE,KAAK,EAAE;UACXa,KAAK,EAAE,SAAS;UAChBE,UAAU,EAAE,KAAK;UACjBP,OAAO,EAAE,MAAM;UACfG,UAAU,EAAE,QAAQ;UACpBwC,GAAG,EAAE;QACP,CAAE;QAAAb,QAAA,GAAC,eACE,EAAC7F,aAAa;MAAA;QAAAiG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CACP,EACAnG,eAAe,iBACdb,OAAA;QAAMmE,KAAK,EAAE;UACXa,KAAK,EAAE,SAAS;UAChBE,UAAU,EAAE,KAAK;UACjBP,OAAO,EAAE,MAAM;UACfG,UAAU,EAAE,QAAQ;UACpBwC,GAAG,EAAE;QACP,CAAE;QAAAb,QAAA,GAAC,eACE,EAAC5F,eAAe;MAAA;QAAAgG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC5F,EAAA,CAhTWnB,eAA+C;EAAA,QA4BtDJ,YAAY;AAAA;AAAA0H,EAAA,GA5BLtH,eAA+C;AAAA,IAAAsH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}